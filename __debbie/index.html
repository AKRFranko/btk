<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
  <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <style>
    form.template{
      display:none;
    }
    .panel .toggle + form{
      display:none
    }
    .panel .toggle.on + form{
      display:block;
    }
    
    
  </style>

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
  
  <form id="material-form" class="template">
    
    <input type="hidden" name="material_id" value="">
    <fieldset>
      <label for="material_name_en">Name (en)<input id="material_name_en" name="material_name_en" value=""></label>
      <label for="material_name_fr">Name (fr)<input id="material_name_fr" name="material_name_fr" value=""></label>
    </fieldset>
    <fieldset>
      <label for="material_desc_en">Description (en)<textarea id="material_desc_en" name="material_desc_en" value=""></textarea></label>
      <label for="material_desc_fr">Description (fr)<textarea id="material_desc_fr" name="material_desc_fr" value=""></textarea></label>
    </fieldset>
    <fieldset>
      <label for="material_comp_en">Composition (en)
      <ul>
        <li><input type="text" name="material_comp_en" value=""></li>
        <li><input type="text" name="material_comp_en" value=""></li>
        <li><input type="text" name="material_comp_en" value=""></li>
        <li><input type="text" name="material_comp_en" value=""></li>
        <li><input type="text" name="material_comp_en" value=""></li>
        <li><input type="text" name="material_comp_en" value=""></li>
      </ul>
      </label>
      <label for="material_comp_fr">Composition (fr)
        <ul>
          <li><input type="text" name="material_comp_fr" value=""></li>
          <li><input type="text" name="material_comp_fr" value=""></li>
          <li><input type="text" name="material_comp_fr" value=""></li>
          <li><input type="text" name="material_comp_fr" value=""></li>
          <li><input type="text" name="material_comp_fr" value=""></li>
          <li><input type="text" name="material_comp_fr" value=""></li>
        </ul>
      </label>
    </fieldset>
    <fieldset>
      <label for="material_small_image">Small image <input type="file" name="material_small_image"></label>
      <img src="" id="material_small_preview">
    </fieldset>
    <fieldset>
      <label for="material_large_image">Large image <input type="file" name="material_large_image"></label>
      <img src="" id="material_large_preview">
    </fieldset>
    <button type="button">save</button>
  </form>
  
  <form id="product-form" >
    <fieldset>
      <label for="product_name_en">Product Name (en) <input type="text" name="product_name_en" value=""></label>
      <label for="product_name_fr">Product Name (fr) <input type="text" name="product_name_fr" value=""></label>
    </fieldset>  
    <fieldset>
      <label for="product_subname_en">Product Second Name (en) <input type="text" name="product_subname_en" value=""></label>
      <label for="product_subname_fr">Product Second Name (fr) <input type="text" name="product_subname_fr" value=""></label>
    </fieldset> 
    <fieldset>
      <label for="product_desc_en">Product Description (en) <textarea type="text" name="product_desc_en"></textarea></label>
      <label for="product_desc_fr">Product Description (fr) <textarea type="text" name="product_desc_fr"></textarea></label>
    </fieldset> 
    <fieldset>
      <label for="product_price">Product Price<input type="number" name="product_price" value=""></label>
    </fieldset> 
    <fieldset>
      <label for="product_gallery_images">
        Gallery Images
        <input type="file"
      </label>
    </fieldset>
    <fieldset>
      <label for="product_variations">Product Variations
        <ul class="variations">
        </ul>
      </label>
    </fieldset> 
    
    
  </form>
  
  
  <div id="materials" class="editable-list">
    
  </div>
  <div id="products" class="editable-list">
    
  </div>
  <script>
  
    var categories = {
      'sofas': ['2-seater','3-seater'],
      'sofa-beds': [],
      'sectionals': ['left-facing','right-facing'],
      'coffee-tables': [],
      'armchairs': [],
      'benches-ottomans': [],
      'headboards': [],
      'storage': [],
      'accessories': ['pillows','rugs','other']
    }
    
    var materials =[ '001', '002', '003', '004', '005', '006', '007','008','009','010','011','012','013','014','015','016','017'];
    
    var $material_form = $('#material-form');
    var $product_form = $('#product-form');
    
    materials.forEach( function( material_id  ){
      var $li = $('<li>');
      var $lab = $('<label>').text(material_id);
      var $check = $('<input>').attr({ type: 'checkbox', name: 'product_variation_material', value: material_id });
      var $file = $('<input>').attr({ type: 'file', name: 'product_variation_image' });
      $lab.append($check);
      $li.append($lab);
      $li.append('image: ');
      $li.append($file);
      $product_form.find('.variations').append( $li );
      
    })
    materials.forEach( function( material_id  ){
      var $toggle = $('<button>').attr('type','button').text('Material #'+material_id).addClass('toggle')
      var $panel   = $('<div>').addClass('panel')
      var $form = $material_form.clone().removeClass('template');
      $form.find('input[name=material_id]').val( material_id );
      $panel.append( $toggle )
      $panel.append( $form )
      $('#materials').append( $panel );
    });
    
    $('.toggle').on('click', function(){
      $(this).toggleClass('on')
    })
    

    
  </script>
</body>
</html>